# Note: Global SSL settings (protocols, ciphers, session cache, stapling) are already set in nginx.conf

# SSL Certificate paths (per-server configuration)
ssl_certificate ${SSL_CERTIFICATE};
ssl_certificate_key ${SSL_CERTIFICATE_KEY};

# SSL buffer size
ssl_buffer_size 8k;

# SSL trusted certificate for OCSP stapling
ssl_trusted_certificate ${SSL_TRUSTED_CERTIFICATE};

# DH parameters (commented out - requires 2048+ bits which takes too long to generate)
# For production, pre-generate with: openssl dhparam -out dhparam.pem 2048
# ssl_dhparam /etc/nginx/ssl/dhparam.pem;

# Perfect Forward Secrecy (ECDHE ciphers don't require custom DH params)
ssl_ecdh_curve secp384r1;

# HTTPS-specific security headers
# Note: Other security headers are defined in security.conf (included in both HTTP and HTTPS blocks)
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;
add_header Permissions-Policy "camera=(), microphone=(), geolocation=(), interest-cohort=()" always;