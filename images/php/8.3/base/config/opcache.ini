; OPcache configuration for production
[opcache]

; Enable OPcache
opcache.enable=1
opcache.enable_cli=0

; Memory settings
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=20000

; Performance settings
opcache.validate_timestamps=0
opcache.revalidate_freq=0
opcache.save_comments=0
opcache.enable_file_override=1

; Security and optimization
opcache.fast_shutdown=1
; opcache.blacklist_filename intentionally not set (see note at end of file)

; JIT configuration (PHP 8.0+)
opcache.jit_buffer_size=100M
opcache.jit=1255

; Optimization level
opcache.optimization_level=0x7FFEBFFF

; Error handling
opcache.log_verbosity_level=2
opcache.preferred_memory_model=mmap

; File cache settings
opcache.file_cache=/tmp/opcache
opcache.file_cache_only=0
opcache.file_cache_consistency_checks=0

; Note: opcache.blacklist_filename is intentionally not set
; to avoid "No blacklist file found" warnings. If needed, create
; the file at /usr/local/etc/php/opcache-blacklist.txt and uncomment:
; opcache.blacklist_filename=/usr/local/etc/php/opcache-blacklist.txt

; Huge pages support
opcache.huge_code_pages=1

; Preloading support
opcache.preload_user=www