; Development PHP configuration - extends production settings
[PHP]

; Override production settings for development
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
log_errors_max_len = 0

; Development-friendly settings
max_execution_time = 0
memory_limit = 1G
post_max_size = 1G
upload_max_filesize = 1G

; Enable more detailed error information
html_errors = On
docref_root = "http://www.php.net/"
docref_ext = .html

; Development debugging
; track_errors removed in PHP 8.0 - use error_get_last() instead
xmlrpc_errors = Off

; Assertion handling for development
zend.assertions = 1
assert.active = On
assert.exception = On
assert.warning = On
assert.bail = Off

; Session settings for development
session.cookie_secure = Off
session.cookie_httponly = On
session.use_strict_mode = On
session.gc_probability = 1
session.gc_divisor = 100

; OPcache settings for development (override production)
opcache.enable = 1
opcache.enable_cli = 1
opcache.validate_timestamps = 1
opcache.revalidate_freq = 0
opcache.save_comments = 1
opcache.enable_file_override = 0
opcache.development_mode = 1

; JIT disabled for development to avoid caching issues
opcache.jit = 0
opcache.jit_buffer_size = 0

; Mail settings for development
sendmail_from = dev@zairakai.local

; Note: Extensions (redis, imagick, xdebug) are loaded via docker-php-ext-enable in Dockerfile
; This file only contains configuration overrides for development

; Development-specific settings
auto_prepend_file =
auto_append_file =

; Increase limits for development
max_input_vars = 10000
max_input_nesting_level = 128
pcre.backtrack_limit = 1000000
pcre.recursion_limit = 100000

; Enable development features
enable_dl = Off
allow_url_fopen = On
allow_url_include = Off

; Timezone for development
date.timezone = "UTC"

; Development error log
error_log = /var/log/php/php_errors.log

; Development-specific ini settings
realpath_cache_size = 4096K
realpath_cache_ttl = 7200

; Disable production optimizations
auto_globals_jit = Off
register_argc_argv = On

; Development file upload settings
file_uploads = On
upload_tmp_dir = /tmp
max_file_uploads = 50

; Development session configuration
session.save_path = "/tmp"
session.name = "PHPSESSID_DEV"